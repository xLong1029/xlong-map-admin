var P=Object.defineProperty,Z=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var m=(i,t,e)=>t in i?P(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,o=(i,t)=>{for(var e in t||(t={}))$.call(t,e)&&m(i,e,t[e]);if(E)for(var e of E(t))K.call(t,e)&&m(i,e,t[e]);return i},l=(i,t)=>Z(i,X(t));import{c3 as G}from"./vendor.70daa49e.js";import{E as s,A as r,e as u}from"./Utils.8da54d2f.js";function k(i){switch(i){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}function j(i,t){const e=r.SIZE_FIELD_STOPS|r.SIZE_MINMAX_VALUE|r.SIZE_SCALE_STOPS|r.SIZE_UNIT_VALUE,a=(i&(u.FIELD_TARGETS_OUTLINE|u.MINMAX_TARGETS_OUTLINE|u.SCALE_TARGETS_OUTLINE|u.UNIT_TARGETS_OUTLINE))>>>4;return t.isOutline||t.isOutlinedFill?e&a:e&~a}const T=0,M=8,H=7,L=8,A=11,F=11,_=12,I=13,O=14,f=15,x=15,U=16,B=17,b=18,w=19,R=20,C=21,N=22;function Q(i,t){switch(i){case s.FILL:return V.from(t);case s.LINE:return g.from(t);case s.MARKER:return p.from(t);case s.TEXT:return z.from(t);case s.LABEL:return y.from(t);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${i}`)}}function W(i){switch(n.load(i).geometryType){case s.MARKER:return new p(i);case s.FILL:return new V(i);case s.LINE:return new g(i);case s.TEXT:return new z(i);case s.LABEL:return new y(i)}}class n{constructor(t){this._data=0,this._data=t}static load(t){const e=this.shared;return e.data=t,e}set data(t){this._data=t}get data(){return this._data}get geometryType(){return this.bits(L,A)}set geometryType(t){this.setBits(t,L,A)}get mapAligned(){return!!this.bit(R)}set mapAligned(t){this.setBit(R,t)}get sdf(){return!!this.bit(F)}set sdf(t){this.setBit(F,t)}get pattern(){return!!this.bit(_)}set pattern(t){this.setBit(_,t)}get textureBinding(){return this.bits(T,M)}set textureBinding(t){this.setBits(t,T,M)}get geometryTypeString(){switch(this.geometryType){case s.FILL:return"fill";case s.MARKER:return"marker";case s.LINE:return"line";case s.TEXT:return"text";case s.LABEL:return"label";default:throw new G(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const a=1<<t;e?this._data|=a:this._data&=~a}bit(t){return(this._data&1<<t)>>t}setBits(t,e,a){for(let v=e,h=0;v<a;v++,h++)this.setBit(v,(t&1<<h)!=0)}bits(t,e){let a=0;for(let v=t,h=0;v<e;v++,h++)a|=this.bit(v)<<h;return a}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(H&this.textureBinding)}}n.shared=new n(0);const S=i=>class extends i{get vvSizeMinMaxValue(){return this.bit(U)!==0}set vvSizeMinMaxValue(t){this.setBit(U,t)}get vvSizeScaleStops(){return this.bit(B)!==0}set vvSizeScaleStops(t){this.setBit(B,t)}get vvSizeFieldStops(){return this.bit(b)!==0}set vvSizeFieldStops(t){this.setBit(b,t)}get vvSizeUnitValue(){return this.bit(w)!==0}set vvSizeUnitValue(t){this.setBit(w,t)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(t,e){super.setVV(t,e);const a=j(t,e)&t;this.vvSizeMinMaxValue=!!(a&r.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(a&r.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(a&r.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(a&r.SIZE_SCALE_STOPS)}},D=i=>class extends i{get vvRotation(){return this.bit(f)!==0}set vvRotation(t){this.setBit(f,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,e){super.setVV(t,e),this.vvRotation=!e.isOutline&&!!(t&r.ROTATION)}},d=i=>class extends i{get vvColor(){return this.bit(I)!==0}set vvColor(t){this.setBit(I,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,e){super.setVV(t,e),this.vvColor=!e.isOutline&&!!(t&r.COLOR)}},c=i=>class extends i{get vvOpacity(){return this.bit(O)!==0}set vvOpacity(t){this.setBit(O,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,e){super.setVV(t,e),this.vvOpacity=!e.isOutline&&!!(t&r.OPACITY)}};class V extends d(c(S(n))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.FILL,e.dotDensity=t.stride.fill==="dot-density",e.simple=t.stride.fill==="simple",e.outlinedFill=t.isOutlinedFill,e.dotDensity||e.setVV(t.vvFlags,t),e.data}getVariation(){return l(o({},super.getVariation()),{dotDensity:this.dotDensity,outlinedFill:this.outlinedFill,simple:this.simple,vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}get dotDensity(){return!!this.bit(x)}set dotDensity(t){this.setBit(x,t)}get simple(){return!!this.bit(N)}set simple(t){this.setBit(N,t)}get outlinedFill(){return!!this.bit(C)}set outlinedFill(t){this.setBit(C,t)}}V.shared=new V(0);class p extends d(c(D(S(n)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.MARKER,e.setVV(t.vvFlags,t),e.data}getVariation(){return l(o({},super.getVariation()),{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}p.shared=new p(0);class g extends d(c(S(n))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.LINE,e.setVV(t.vvFlags,t),e.data}getVariation(){return l(o({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}g.shared=new g(0);class z extends d(c(D(S(n)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.TEXT,e.setVV(t.vvFlags,t),e.data}getVariation(){return l(o({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}z.shared=new z(0);class y extends S(n){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.LABEL,e.setVV(t.vvFlags,t),e.mapAligned=k(t.placement),e.data}getVariation(){return l(o({},super.getVariation()),{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}y.shared=new y(0);export{g as B,W as F,Q as L,z as R,p as U,n as _,y as b,k as e,V as x};
